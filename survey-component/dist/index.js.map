{"version":3,"sources":["webpack:///webpack/bootstrap 4c8a04f7fe49ae38065a","webpack:///./index.js","webpack:///external \"deku\"","webpack:///./state.js","webpack:///external \"light-debounce\""],"names":[],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 4c8a04f7fe49ae38065a\n **/","/** @jsx element */\n/* eslint-disable import/no-unresolved */\nimport { element } from 'deku';\nimport stater from './state';\n\nfunction initialState() {\n  return {\n    hasAnimated: false,\n    isAnimating: true,\n    container: null,\n    showLike: false,\n    isClosing: false,\n    likeHandler: null,\n  };\n}\n\nfunction checkScroll({ props, state }) {\n  if (!state.container) return;\n  const container = state.container;\n  const percent = props.percent || 0.75;\n\n  let middle = window.pageYOffset || document.documentElement.scrollTop;\n  middle += window.innerHeight / 2;\n  const itemBottom = container.offsetTop + container.offsetHeight;\n  const space = itemBottom - middle;\n\n  if (space < 0 || space / container.offsetHeight <= 1 - percent) {\n    props.onSurveyShown && props.onSurveyShown(props.survey, props.item);\n    props.onImpression && props.onImpression(props.survey, props.item);\n  }\n}\n\nfunction checkItem({ props }) {\n  if (props.item === undefined || props.item === null) {\n    props.onItemStatus && props.onItemStatus(props.survey, props.item, false);\n    return;\n  }\n\n  if (!props.onCheckItem) return;\n\n  props.onCheckItem(props.survey, props.item).then(result => {\n    props.onItemStatus && props.onItemStatus(props.survey, props.item, result);\n  });\n}\n\nfunction toggleScrollChecks(model) {\n  const { props, state, setState } = model;\n  if (props.show && state.isAnimating) {\n    setState({ isAnimating: false }, true);\n    return;\n  }\n\n  if (!props.valid || state.hasAnimated) return;\n\n  model.setState({ hasAnimated: true }, true);\n\n  window.requestAnimationFrame(function frame() {\n    if (state.isAnimating) {\n      checkScroll(model);\n      window.requestAnimationFrame(frame);\n    }\n  });\n}\n\nfunction thanksClose(setState, state, props) {\n  if (state.isClosing) return;\n\n  const closeTime = props.closeTime || 1000;\n  setState({ isClosing: true }, false, props.stateAction);\n  window.setTimeout(() => {\n    props.onClose && props.onClose(props.survey, props.item);\n    if (props.FB && state.handleLike) {\n      props.FB.Event.unsubscribe('edge.create', state.handleLike);\n    }\n  }, closeTime);\n}\n\nfunction handleLike(model) {\n  const { props, state, setState } = model;\n\n  if (state.likeHandler) return () => {};\n\n  function like() {\n    props.onLike && props.onLike(props.survey, props.item);\n    thanksClose(setState, state, props);\n  }\n\n  setState({ likeHandler: like }, true);\n  return like;\n}\n\nfunction handleLikeClose({ setState, state, props }) {\n  if (state.isClosing) return () => {};\n\n  return () => {\n    props.onLikeClose && props.onLikeClose(props.survey, props.item);\n\n    thanksClose(setState, state, props);\n  };\n}\n\nfunction handleClick(setState, state, props, score) {\n  return () => {\n    props.onRate && props.onRate(props.survey, props.item, score);\n    if (props.liked) {\n      thanksClose(setState, state, props);\n      return;\n    }\n\n    const threshold = props.threshold || 7;\n    if (score >= threshold) {\n      setState({\n        showLike: true,\n      }, false, props.stateAction);\n    } else {\n      thanksClose(setState, state, props);\n    }\n  };\n}\n\nfunction createSurvey(model, isInteractive) {\n  const { setState, state, props } = model;\n  function interact(fn) {\n    if (isInteractive) return fn;\n\n    return () => {};\n  }\n\n  let bars = [1, 2, 3, 4, 5, 10, 9, 8, 7, 6];\n  bars = bars.map(v => {\n    let cls = '';\n    if (v <= bars.length / 2) {\n      cls += 'survey-rating__bar--left ';\n    } else {\n      cls += 'survey-rating__bar--right ';\n    }\n    cls += `survey-rating__bar survey-rating__bar--${v} `;\n    return (\n      <div\n        key={v}\n        class={cls}\n        onClick={interact(handleClick(setState, state, props, v))}\n      >\n      </div>\n    );\n  });\n\n  let viewClass = 'survey__view ';\n  let likeClass = 'survey__like ';\n  let thanksClass = 'survey__thanks ';\n  if (state.isClosing) {\n    viewClass += 'survey__view--hide';\n    likeClass += 'survey__like--hide';\n    thanksClass += 'survey__thanks--show';\n  } else if (state.showLike) {\n    viewClass += 'survey__view--hide';\n    likeClass += 'survey__like--show';\n    if (props.FB) {\n      props.FB.XFBML.parse();\n      props.FB.Event.subscribe('edge.create', handleLike(model));\n    }\n  }\n  return (\n    <div class=\"survey-wrapper\">\n      <div class={viewClass}>\n        <div class=\"survey__question\">\n          {props.question}\n        </div>\n        <div class=\"survey__rating\">\n          <div class=\"survey-rating__bars\">\n            {bars}\n          </div>\n          <div class=\"survey-rating__descriptions\">\n            <div class=\"survey-rating__descriptions--left\">Not at all</div>\n            <div class=\"survey-rating__descriptions--right\">Absolutely</div>\n          </div>\n        </div>\n      </div>\n      <div class={likeClass}>\n        <div class=\"survey-like__thanks\">Thanks! Follow Mic on Facebook</div>\n        <div class=\"survey-like__actions\">\n          <div class=\"survey-actions--left\">\n            {props.likeButton}\n          </div>\n          <div\n            class=\"survey-actions--right\"\n            onClick={interact(handleLikeClose(model))}\n          >\n            No, I'm good\n          </div>\n        </div>\n      </div>\n      <div class={thanksClass}>\n        <div class=\"survey-thanks__main\">Thanks!</div>\n      </div>\n      <div class=\"survey__close\" onClick={interact(props.onClose)}>\n        x\n      </div>\n    </div>\n  );\n}\n\nfunction render(model) {\n  const { props, state } = model;\n  let view = null;\n\n  if (state.hasAnimated) {\n    if (props.show) {\n      view = createSurvey(model, true);\n    } else {\n      view = createSurvey(model, false);\n    }\n  }\n\n  let surveyClass = 'survey ';\n  surveyClass += props.show ? 'survey--show' : 'survey--hidden';\n  return (\n    <div class={surveyClass}>\n      {view}\n    </div>\n  );\n}\n\nfunction isReady({ props }) {\n  return props.survey !== undefined && props.survey !== null &&\n    props.container && props.item !== undefined && props.item !== null;\n}\n\nfunction onCreate(model) {\n  const props = model.props;\n  if (!isReady(model)) return;\n\n  model.setState({\n    container: props.container,\n  }, true);\n  checkItem(model);\n\n  toggleScrollChecks(model);\n}\n\nfunction onUpdate(model) {\n  const props = model.props;\n  if (!isReady(model)) return;\n\n  if (model.state.container !== props.container) {\n    checkItem(model);\n    model.setState({ container: props.container }, true);\n  }\n\n  toggleScrollChecks(model);\n}\n\nfunction onRemove({ setState }) {\n  setState({ isAnimating: false }, true);\n}\n\n// :(\n// Couldn't think of doing this cleanly without states when using\n// requestAnimationFrame for better experience on mobile\nexport default stater({\n  render,\n  onCreate,\n  onUpdate,\n  onRemove,\n}, initialState);\n\n\n\n/** WEBPACK FOOTER **\n ** ./index.js\n **/","module.exports = require(\"deku\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"deku\"\n ** module id = 2\n ** module chunks = 0\n **/","import debounce from 'light-debounce';\n\nexport default function state(component, initialState) {\n  const states = {};\n  let dispatch = null;\n  let action = null;\n\n  const update = debounce(() => {\n    if (action) dispatch(action);\n  }, 0);\n\n  function setState(model) {\n    return (changes, quiet, inputAction) => {\n      states[model.path] = Object.assign(states[model.path], changes);\n      if (!quiet) {\n        dispatch = model.dispatch;\n        action = inputAction;\n        update();\n      }\n    };\n  }\n\n  function merge(model) {\n    return Object.assign({}, model, {\n      state: states[model.path],\n      setState: setState(model),\n    });\n  }\n\n  function render(model) {\n    if (!states[model.path]) {\n      if (initialState) {\n        states[model.path] = Object.assign({}, initialState());\n      } else {\n        states[model.path] = {};\n      }\n    }\n\n    return component.render(merge(model));\n  }\n\n  function onCreate(model) {\n    if (component.onCreate) component.onCreate(merge(model));\n  }\n\n  function onUpdate(model) {\n    if (component.onUpdate) component.onUpdate(merge(model));\n  }\n\n  function onRemove(model) {\n    delete states[model.path];\n    if (component.onRemove) component.onRemove(model);\n  }\n\n  return Object.assign({}, component, {\n    render,\n    onRemove,\n    onUpdate,\n    onCreate,\n  });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./state.js\n **/","module.exports = require(\"light-debounce\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"light-debounce\"\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":""}